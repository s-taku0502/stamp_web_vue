(()=>{"use strict";var e={807:(e,n,a)=>{var t=a(751),r=a(641),s=a(33);const o={id:"app"},l={class:"navbar"};function u(e,n,a,t,u,i){const c=(0,r.g2)("router-link"),d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("header",null,[(0,r.Lk)("nav",l,[n[8]||(n[8]=(0,r.Lk)("div",{class:"logo"},[(0,r.Lk)("img",{id:"icon",src:"/assets/images/circle_app_icon.png",alt:"Logo"}),(0,r.Lk)("p",null,"額地区スタンプらり～")],-1)),(0,r.Lk)("div",{class:"menu-toggle",ref:"menuToggle",onClick:n[0]||(n[0]=(...e)=>t.toggleMenu&&t.toggleMenu(...e))},n[1]||(n[1]=[(0,r.Lk)("span",{class:"bar"},null,-1),(0,r.Lk)("span",{class:"bar"},null,-1),(0,r.Lk)("span",{class:"bar"},null,-1)]),512),(0,r.Lk)("ul",{class:(0,s.C4)(["nav-links",{active:t.isMenuActive}]),ref:"navLinks"},[(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/home",tabindex:"0"},{default:(0,r.k6)((()=>n[2]||(n[2]=[(0,r.eW)("ホーム")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/scan"},{default:(0,r.k6)((()=>n[3]||(n[3]=[(0,r.eW)("スキャナー")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/stamps"},{default:(0,r.k6)((()=>n[4]||(n[4]=[(0,r.eW)("スタンプ")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/coupons"},{default:(0,r.k6)((()=>n[5]||(n[5]=[(0,r.eW)("クーポン")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/stores"},{default:(0,r.k6)((()=>n[6]||(n[6]=[(0,r.eW)("店舗情報")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{to:"/contact"},{default:(0,r.k6)((()=>n[7]||(n[7]=[(0,r.eW)("お問い合わせ")]))),_:1})])],2)])]),(0,r.Lk)("main",null,[(0,r.bF)(d)]),n[9]||(n[9]=(0,r.Lk)("footer",null,[(0,r.Lk)("div",{class:"footer"},[(0,r.Lk)("p",null,"© 2024-2025 額地区スタンプらり～")])],-1))])}var i=a(953);const c={setup(){const e=(0,i.KR)(!1),n=(0,i.KR)(null),a=()=>{e.value=!e.value},t=()=>{e.value=!1};return(0,r.sV)((()=>{const e=n.value.querySelectorAll("li");e.forEach((e=>{e.addEventListener("click",t)}))})),(0,r.xo)((()=>{const e=n.value.querySelectorAll("li");e.forEach((e=>{e.removeEventListener("click",t)}))})),{isMenuActive:e,navLinks:n,toggleMenu:a,closeMenu:t}}};var d=a(433);const p=(0,d.A)(c,[["render",u],["__scopeId","data-v-64046acd"]]),k=p;var g=a(220),h=a(995);function m(e,n,a,t,s,o){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",null,[n[0]||(n[0]=(0,r.Lk)("header",null,[(0,r.Lk)("nav",{class:"navbar"},[(0,r.Lk)("div",{class:"logo"},[(0,r.Lk)("img",{id:"icon",src:"/assets/images/circle_app_icon.png",alt:"Logo"}),(0,r.Lk)("p",null,"額地区スタンプらり～")])])],-1)),(0,r.Lk)("main",null,[(0,r.bF)(l)]),n[1]||(n[1]=(0,r.Lk)("footer",null,[(0,r.Lk)("div",{class:"footer"},[(0,r.Lk)("p",null,"© 2024-2025 額地区スタンプらり～")])],-1))])}const v={name:"RegisterLayout",setup(){const e=(0,i.KR)(!1),n=(0,i.KR)(null),a=()=>{e.value=!e.value},t=()=>{e.value=!1};return(0,r.sV)((()=>{const e=n.value.querySelectorAll("li");e.forEach((e=>{e.addEventListener("click",t)}))})),(0,r.xo)((()=>{const e=n.value.querySelectorAll("li");e.forEach((e=>{e.removeEventListener("click",t)}))})),{isMenuActive:e,navLinks:n,toggleMenu:a,closeMenu:t}}},L=(0,d.A)(v,[["render",m],["__scopeId","data-v-e3f85ad0"]]),f=L,b={class:"login"},y=["disabled"],w={key:0},_={key:1},C={key:0,class:"error"};function E(e,n,a,o,l,u){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",b,[n[8]||(n[8]=(0,r.Lk)("h1",null,"ログイン画面",-1)),(0,r.Lk)("form",{onSubmit:n[2]||(n[2]=(0,t.D$)(((...n)=>e.login&&e.login(...n)),["prevent"]))},[(0,r.Lk)("div",null,[n[3]||(n[3]=(0,r.Lk)("label",{for:"email"},"メールアドレス",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=n=>e.email=n),required:""},null,512),[[t.Jo,e.email]])]),(0,r.Lk)("div",null,[n[4]||(n[4]=(0,r.Lk)("label",{for:"password"},"パスワード",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),required:""},null,512),[[t.Jo,e.password]])]),(0,r.Lk)("button",{type:"submit",disabled:e.isLoading},[e.isLoading?((0,r.uX)(),(0,r.CE)("span",w,"ログイン中...")):((0,r.uX)(),(0,r.CE)("span",_,"ログイン"))],8,y)],32),e.errorMessage?((0,r.uX)(),(0,r.CE)("p",C,(0,s.v_)(e.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[n[6]||(n[6]=(0,r.eW)(" アカウントをお持ちでない場合は、")),(0,r.bF)(i,{to:"/register"},{default:(0,r.k6)((()=>n[5]||(n[5]=[(0,r.eW)("こちら")]))),_:1}),n[7]||(n[7]=(0,r.eW)(" より登録してください。 "))])])}var F=a(268),S=a(223),M=a(922),X=a(884);const A={apiKey:"AIzaSyCX-MwBvHlOe8hKVWFq4CrisV0MKUHwJfY",authDomain:"kanazawa-nuka2024.firebaseapp.com",projectId:"kanazawa-nuka2024",storageBucket:"kanazawa-nuka2024.firebasestorage.app",messagingSenderId:"729877460278",appId:"1:729877460278:web:3e388b308f1d6ad0192f97",measurementId:"G-WZ2GHT12EV"},W=(0,S.Wp)(A),I=((0,M.P5)(W),(0,F.xI)(W)),Q=((0,X.aU)(W),{async login(){this.isLoading=!0;try{this.errorMessage=null;const e=await(0,F.x9)(I,this.email,this.password);console.log("ログイン成功:",e.user),alert("ログインが成功しました！");const n=await e.user.getIdToken();localStorage.setItem("authToken",n),this.$router.push("/home"),this.email="",this.password=""}catch(e){console.error("ログインエラー:",e),this.handleAuthError(e)}finally{this.isLoading=!1}},handleAuthError(e){"auth/user-not-found"===e.code?this.errorMessage="このメールアドレスのユーザーは見つかりません。":"auth/wrong-password"===e.code?this.errorMessage="パスワードが間違っています。":"auth/invalid-email"===e.code?this.errorMessage="無効なメールアドレスです。":password.length<6?this.errorMessage="パスワードは6文字以上で入力してください。":"auth/too-many-requests"===e.code?this.errorMessage="アクセスが制限されています。しばらくしてから再度お試しください。":this.errorMessage="予期しないエラーが発生しました。"}}),x=(0,d.A)(Q,[["render",E]]),q=x;function O(e,n,a,t,s,o){return(0,r.uX)(),(0,r.CE)("main",null," こちらは額地区デジタルスタンプ～のホームページです。 ")}const T={name:"Home"},R=(0,d.A)(T,[["render",O],["__scopeId","data-v-51a2e756"]]),U=R,V={id:"Scan"};function K(e,n,a,t,o,l){const u=(0,r.g2)("qrcode-stream");return(0,r.uX)(),(0,r.CE)("div",V,[(0,r.Lk)("main",null,[n[1]||(n[1]=(0,r.Lk)("h1",null,"QRコードをスキャン",-1)),o.scanning?((0,r.uX)(),(0,r.Wv)(u,{key:0,onDetect:l.onDetect,class:"scanner"},null,8,["onDetect"])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:n[0]||(n[0]=(...e)=>l.toggleScanning&&l.toggleScanning(...e))},(0,s.v_)(o.scanning?"スキャン停止":"スキャン開始"),1)])])}const j={components:{QrcodeStream:h.tR},data(){return{scanning:!1}},methods:{onDetect(e){this.$emit("scan-complete",e),this.scanning=!1},toggleScanning(){this.scanning=!this.scanning}}},D=(0,d.A)(j,[["render",K],["__scopeId","data-v-ad5d1850"]]),B=D,J={key:0};function $(e,n,a,t,o,l){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[n[1]||(n[1]=(0,r.Lk)("h1",null,"Stamps Page",-1)),(0,r.bF)(u,{to:"/scan"},{default:(0,r.k6)((()=>n[0]||(n[0]=[(0,r.eW)("QRコードをスキャン")]))),_:1}),o.scannedText?((0,r.uX)(),(0,r.CE)("p",J,"スキャン結果: "+(0,s.v_)(o.scannedText),1)):(0,r.Q3)("",!0)])}const P={name:"Stamps",data(){return{scannedText:""}},methods:{updateScannedText(e){this.scannedText=e}}},z=(0,d.A)(P,[["render",$],["__scopeId","data-v-c151607a"]]),H=z,N={id:"Coupons"};function G(e,n,a,t,s,o){const l=(0,r.g2)("v-col"),u=(0,r.g2)("v-row"),i=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.CE)("div",N,[(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1})])),_:1})])}const Y={name:"Coupons",data(){return{}},methods:{},computed:{}},Z=(0,d.A)(Y,[["render",G],["__scopeId","data-v-2e0c8074"]]),ee=Z,ne={key:0},ae={key:1};function te(e,n,a,t,o,l){const u=(0,r.g2)("SearchBar");return(0,r.uX)(),(0,r.CE)("div",null,[n[6]||(n[6]=(0,r.Lk)("h1",null,"Stores Page",-1)),(0,r.bF)(u,{searchQuery:o.searchQuery,"onUpdate:searchQuery":l.updateSearchQuery},null,8,["searchQuery","onUpdate:searchQuery"]),l.filteredStores.length>0?((0,r.uX)(),(0,r.CE)("div",ne,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.filteredStores,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{key:a,class:"store-info"},[(0,r.Lk)("h2",null,(0,s.v_)(e.name),1),(0,r.Lk)("p",null,[n[0]||(n[0]=(0,r.Lk)("strong",null,"住所:",-1)),(0,r.eW)(" "+(0,s.v_)(e.address),1)]),(0,r.Lk)("p",null,[n[1]||(n[1]=(0,r.Lk)("strong",null,"営業時間:",-1)),(0,r.eW)(" "+(0,s.v_)(e.hours),1)]),(0,r.Lk)("p",null,[n[2]||(n[2]=(0,r.Lk)("strong",null,"連絡先:",-1)),(0,r.eW)(" "+(0,s.v_)(e.contact),1)]),(0,r.Lk)("p",null,[n[3]||(n[3]=(0,r.Lk)("strong",null,"特徴:",-1)),(0,r.eW)(" "+(0,s.v_)(e.features),1)]),(0,r.Lk)("p",null,[n[4]||(n[4]=(0,r.Lk)("strong",null,"スタンプラリー特典:",-1)),(0,r.eW)(" "+(0,s.v_)(e.reward),1)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",ae,n[5]||(n[5]=[(0,r.Lk)("p",null,"店舗が見つかりませんでした。",-1)])))])}const re=["value"];function se(e,n,a,t,s,o){return(0,r.uX)(),(0,r.CE)("input",{value:a.searchQuery,onInput:n[0]||(n[0]=n=>e.$emit("update:searchQuery",n.target.value)),type:"text",placeholder:"店舗名・住所で検索",class:"search-bar"},null,40,re)}const oe={name:"SearchBar",props:{searchQuery:{type:String,default:""}}},le=(0,d.A)(oe,[["render",se],["__scopeId","data-v-fbab35d2"]]),ue=le,ie={name:"Stores",components:{SearchBar:ue},data(){return{searchQuery:"",stores:[{name:"店舗A",address:"東京都渋谷区1-2-3",hours:"10:00～18:00（定休日：水曜日）",contact:"03-1234-5678",features:"オリジナル商品を取り扱い",reward:"スタンプ1つで10%割引",keywords:["てんぽえー","てんぽA","とうきょうとしぶやく"]},{name:"店舗B",address:"大阪府大阪市北区4-5-6",hours:"9:00～17:00（定休日：火曜日）",contact:"06-9876-5432",features:"地元の特産品を販売",reward:"スタンプ1つで無料ドリンク",keywords:["おおさか","おおさかしきた"]}]}},computed:{filteredStores(){const e=(this.searchQuery||"").toLowerCase();return""===e?this.stores:this.stores.filter((n=>{const a=n.name.toLowerCase(),t=n.address.toLowerCase(),r=n.keywords.map((e=>e.toLowerCase()));return a.includes(e)||t.includes(e)||r.some((n=>n.includes(e)))}))}},methods:{updateSearchQuery(e){this.searchQuery=e}}},ce=(0,d.A)(ie,[["render",te],["__scopeId","data-v-7ebd069a"]]),de=ce;function pe(e,n,a,t,s,o){const l=(0,r.g2)("v-col"),u=(0,r.g2)("v-row"),i=(0,r.g2)("v-text-field"),c=(0,r.g2)("v-textarea"),d=(0,r.g2)("v-btn"),p=(0,r.g2)("v-container");return(0,r.uX)(),(0,r.Wv)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{cols:"12"},{default:(0,r.k6)((()=>n[0]||(n[0]=[(0,r.Lk)("h1",null,"Contact Us",-1)]))),_:1})])),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(l,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{label:"Name",required:""})])),_:1}),(0,r.bF)(l,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{label:"Email",required:""})])),_:1}),(0,r.bF)(l,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{label:"Message",required:""})])),_:1}),(0,r.bF)(l,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{color:"primary"},{default:(0,r.k6)((()=>n[1]||(n[1]=[(0,r.eW)("Submit")]))),_:1})])),_:1})])),_:1})])),_:1})}const ke={name:"Contact"},ge=(0,d.A)(ke,[["render",pe],["__scopeId","data-v-5f853ba3"]]),he=ge,me={class:"register",id:"register"},ve={key:0,class:"warning"},Le=["disabled"],fe={key:0},be={key:1},ye={key:0,class:"error"};function we(e,n,a,o,l,u){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",me,[n[7]||(n[7]=(0,r.Lk)("h1",null,"登録画面",-1)),(0,r.Lk)("form",{onSubmit:n[2]||(n[2]=(0,t.D$)(((...e)=>u.register&&u.register(...e)),["prevent"]))},[(0,r.Lk)("div",null,[n[3]||(n[3]=(0,r.Lk)("label",{for:"email"},"メールアドレス",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=e=>l.email=e),required:""},null,512),[[t.Jo,l.email]])]),(0,r.Lk)("div",null,[n[4]||(n[4]=(0,r.Lk)("label",{for:"password"},"パスワード",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=e=>l.password=e),required:""},null,512),[[t.Jo,l.password]]),l.password&&l.password.length>0&&l.password.length<6?((0,r.uX)(),(0,r.CE)("p",ve," 6文字以上のパスワードを入力してください。 ")):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{type:"submit",disabled:l.isLoading||l.password.length<6},[l.isLoading?((0,r.uX)(),(0,r.CE)("span",fe,"登録中...")):((0,r.uX)(),(0,r.CE)("span",be,"登録"))],8,Le)],32),l.errorMessage?((0,r.uX)(),(0,r.CE)("p",ye,(0,s.v_)(l.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[n[6]||(n[6]=(0,r.eW)(" すでにアカウントをお持ちですか？ ")),(0,r.bF)(i,{to:"/login"},{default:(0,r.k6)((()=>n[5]||(n[5]=[(0,r.eW)("ログインはこちら")]))),_:1})])])}const _e={name:"Register",data(){return{email:"",password:"",errorMessage:null,isLoading:!1}},methods:{async register(){this.isLoading=!0;try{this.errorMessage=null;const e=await(0,F.eJ)(I,this.email,this.password);console.log("登録成功:",e.user),alert("登録が成功しました！"),this.$router.push("/login"),this.email="",this.password=""}catch(e){console.error("登録エラー:",e),"auth/email-already-in-use"===e.code?this.errorMessage="このメールアドレスはすでに登録されています。":"auth/invalid-email"===e.code?this.errorMessage="無効なメールアドレスです。":"auth/weak-password"===e.code?this.errorMessage="パスワードは6文字以上である必要があります。":this.errorMessage="予期しないエラーが発生しました。"}finally{this.isLoading=!1}}}},Ce=(0,d.A)(_e,[["render",we],["__scopeId","data-v-5e29cd9d"]]),Ee=Ce;function Fe(e,n,a,t,s,o){return(0,r.uX)(),(0,r.CE)("main",null,n[0]||(n[0]=[(0,r.Lk)("h1",null,"404 Not Found",-1),(0,r.Lk)("p",null,"お探しのページが見つかりませんでした。",-1)]))}const Se={name:"NotFound"},Me=(0,d.A)(Se,[["render",Fe],["__scopeId","data-v-ef9cad84"]]),Xe=Me,Ae=[{path:"/",name:"ログイン画面",component:q},{path:"/home",name:"ホーム",component:U},{path:"/scan",name:"スキャン画面",component:B,props:e=>({onScanComplete:e.query.onScanComplete})},{path:"/stamps",name:"スタンプ画面",component:H},{path:"/coupons",name:"クーポン画面",component:ee},{path:"/stores",name:"店舗一覧",component:de},{path:"/contact",name:"お問い合わせ",component:he},{path:"/register",name:"新規登録",component:Ee,meta:{layout:f}},{path:"/login",name:"ログイン画面",component:q,meta:{layout:f}},{path:"/:pathMatch(.*)*",name:"404NotFound",component:Xe}],We=(0,g.aE)({history:(0,g.LA)(),routes:Ae}),Ie=We,Qe=(0,t.Ef)(k);Qe.component("RegisterLayout",f),Qe.use(Ie),Qe.mount("#app")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,a),s.exports}a.m=e,(()=>{var e=[];a.O=(n,t,r,s)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,r,s]=e[c],l=!0,u=0;u<t.length;u++)(!1&s||o>=s)&&Object.keys(a.O).every((e=>a.O[e](t[u])))?t.splice(u--,1):(l=!1,s<o&&(o=s));if(l){e.splice(c--,1);var i=r();void 0!==i&&(n=i)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,r,s]}})(),(()=>{a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={524:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var r,s,[o,l,u]=t,i=0;if(o.some((n=>0!==e[n]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(u)var c=u(a)}for(n&&n(t);i<o.length;i++)s=o[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},t=self["webpackChunkstamp_web"]=self["webpackChunkstamp_web"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var t=a.O(void 0,[504],(()=>a(807)));t=a.O(t)})();
//# sourceMappingURL=app.8080712b.js.map