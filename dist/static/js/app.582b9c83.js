(()=>{"use strict";var e={963:(e,n,o)=>{var t=o(751),a=o(641),s=o(33);const r={id:"app"},l={class:"navbar"};function i(e,n,o,t,i,u){const d=(0,a.g2)("router-link"),c=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("header",null,[(0,a.Lk)("nav",l,[n[8]||(n[8]=(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("img",{id:"icon",src:"/assets/images/circle_app_icon.png",alt:"Logo"}),(0,a.Lk)("p",null,"額地区スタンプらり～")],-1)),(0,a.Lk)("div",{class:"menu-toggle",ref:"menuToggle",onClick:n[0]||(n[0]=(...e)=>u.toggleMenu&&u.toggleMenu(...e))},n[1]||(n[1]=[(0,a.Lk)("span",{class:"bar"},null,-1),(0,a.Lk)("span",{class:"bar"},null,-1),(0,a.Lk)("span",{class:"bar"},null,-1)]),512),(0,a.Lk)("ul",{class:(0,s.C4)(["nav-links",{active:i.isMenuActive}]),ref:"navLinks"},[(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/home",tabindex:"0"},{default:(0,a.k6)((()=>n[2]||(n[2]=[(0,a.eW)("ホーム")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/scan"},{default:(0,a.k6)((()=>n[3]||(n[3]=[(0,a.eW)("スキャナー")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/stamps"},{default:(0,a.k6)((()=>n[4]||(n[4]=[(0,a.eW)("スタンプ")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/coupons"},{default:(0,a.k6)((()=>n[5]||(n[5]=[(0,a.eW)("クーポン")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/stores"},{default:(0,a.k6)((()=>n[6]||(n[6]=[(0,a.eW)("店舗情報")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(d,{to:"/contact"},{default:(0,a.k6)((()=>n[7]||(n[7]=[(0,a.eW)("お問い合わせ")]))),_:1})])],2)])]),(0,a.Lk)("main",null,[(0,a.bF)(c)]),n[9]||(n[9]=(0,a.Lk)("footer",null,[(0,a.Lk)("div",{class:"footer"},[(0,a.Lk)("p",null,"© 2024-2025 額地区スタンプらり～")])],-1))])}const u={data(){return{isMenuActive:!1}},methods:{toggleMenu(){this.isMenuActive=!this.isMenuActive},closeMenu(){this.isMenuActive=!1}},mounted(){const e=this.$refs.navLinks.querySelectorAll("li");e.forEach((e=>{e.addEventListener("click",this.closeMenu)}))},beforeDestroy(){const e=this.$refs.navLinks.querySelectorAll("li");e.forEach((e=>{e.removeEventListener("click",this.closeMenu)}))}};var d=o(433);const c=(0,d.A)(u,[["render",i],["__scopeId","data-v-982b78f0"]]),p=c;var g=o(220);function h(e,n,o,t,s,r){return(0,a.uX)(),(0,a.CE)("main",null," こちらは額地区デジタルスタンプ～のホームページです。 ")}const k={name:"Home"},m=(0,d.A)(k,[["render",h],["__scopeId","data-v-51a2e756"]]),f=m,v={id:"Scan"},b={key:0};function L(e,n,o,t,r,l){const i=(0,a.g2)("qrcode-stream");return(0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("main",null,[n[1]||(n[1]=(0,a.Lk)("h1",null,"QRコードをスキャン",-1)),(0,a.bF)(i,{onDecode:l.onDecode,onInit:l.onInit,paused:!r.scanning},null,8,["onDecode","onInit","paused"]),(0,a.Lk)("button",{onClick:n[0]||(n[0]=(...e)=>l.toggleScanning&&l.toggleScanning(...e))},(0,s.v_)(r.scanning?"スキャン停止":"スキャン開始"),1),r.decodedText?((0,a.uX)(),(0,a.CE)("p",b,"QRコードの内容: "+(0,s.v_)(r.decodedText),1)):(0,a.Q3)("",!0)])])}var w=o(995);const _={components:{QrcodeStream:w.tR},data(){return{decodedText:"",scanning:!1}},methods:{onDecode(e){this.decodedText=e,this.scanning=!1},onInit(e){e.then((()=>{console.log("QRコードリーダーの初期化が完了しました。")})).catch((e=>{console.error("QRコードリーダーの初期化エラー:",e)}))},toggleScanning(){this.scanning=!this.scanning}}},y=(0,d.A)(_,[["render",L],["__scopeId","data-v-ea336f38"]]),M=y;function E(e,n,o,t,s,r){return(0,a.uX)(),(0,a.CE)("div",null,n[0]||(n[0]=[(0,a.Lk)("h1",null,"Stamps Page",-1)]))}const F={name:"Stamps"},C=(0,d.A)(F,[["render",E]]),A=C,X={id:"Coupons"};function I(e,n,o,t,s,r){const l=(0,a.g2)("v-col"),i=(0,a.g2)("v-row"),u=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.CE)("div",X,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(l)])),_:1})])),_:1})])}const S={name:"Coupons",data(){return{}},methods:{},computed:{}},W=(0,d.A)(S,[["render",I],["__scopeId","data-v-2e0c8074"]]),x=W;function q(e,n,o,t,s,r){return(0,a.uX)(),(0,a.CE)("div",null,n[0]||(n[0]=[(0,a.Lk)("h1",null,"Stores Page",-1)]))}const O={name:"Stores"},T=(0,d.A)(O,[["render",q]]),Q=T;function D(e,n,o,t,s,r){const l=(0,a.g2)("v-col"),i=(0,a.g2)("v-row"),u=(0,a.g2)("v-text-field"),d=(0,a.g2)("v-textarea"),c=(0,a.g2)("v-btn"),p=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,{cols:"12"},{default:(0,a.k6)((()=>n[0]||(n[0]=[(0,a.Lk)("h1",null,"Contact Us",-1)]))),_:1})])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,{cols:"12",md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"Name",required:""})])),_:1}),(0,a.bF)(l,{cols:"12",md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"Email",required:""})])),_:1}),(0,a.bF)(l,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{label:"Message",required:""})])),_:1}),(0,a.bF)(l,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"primary"},{default:(0,a.k6)((()=>n[1]||(n[1]=[(0,a.eW)("Submit")]))),_:1})])),_:1})])),_:1})])),_:1})}const j={name:"Contact"},U=(0,d.A)(j,[["render",D],["__scopeId","data-v-5f853ba3"]]),V=U,J={class:"register",id:"register"},R={key:0,class:"warning"},$=["disabled"],P={key:0},z={key:1},H={key:0,class:"error"};function N(e,n,o,r,l,i){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",J,[n[7]||(n[7]=(0,a.Lk)("h1",null,"登録画面",-1)),(0,a.Lk)("form",{onSubmit:n[2]||(n[2]=(0,t.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,a.Lk)("div",null,[n[3]||(n[3]=(0,a.Lk)("label",{for:"email"},"メールアドレス",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=e=>l.email=e),required:""},null,512),[[t.Jo,l.email]])]),(0,a.Lk)("div",null,[n[4]||(n[4]=(0,a.Lk)("label",{for:"password"},"パスワード",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=e=>l.password=e),required:""},null,512),[[t.Jo,l.password]]),l.password&&l.password.length>0&&l.password.length<6?((0,a.uX)(),(0,a.CE)("p",R," パスワードは6文字以上でなければなりません ")):(0,a.Q3)("",!0)]),(0,a.Lk)("button",{type:"submit",disabled:l.isLoading||l.password.length<6},[l.isLoading?((0,a.uX)(),(0,a.CE)("span",P,"登録中...")):((0,a.uX)(),(0,a.CE)("span",z,"登録"))],8,$)],32),l.errorMessage?((0,a.uX)(),(0,a.CE)("p",H,(0,s.v_)(l.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("p",null,[n[6]||(n[6]=(0,a.eW)(" すでにアカウントをお持ちですか？ ")),(0,a.bF)(u,{to:"/login"},{default:(0,a.k6)((()=>n[5]||(n[5]=[(0,a.eW)("ログインはこちら")]))),_:1})])])}var K=o(268),B=o(223),G=o(922),Y=o(884);const Z={apiKey:"AIzaSyCX-MwBvHlOe8hKVWFq4CrisV0MKUHwJfY",authDomain:"kanazawa-nuka2024.firebaseapp.com",projectId:"kanazawa-nuka2024",storageBucket:"kanazawa-nuka2024.firebasestorage.app",messagingSenderId:"729877460278",appId:"1:729877460278:web:3e388b308f1d6ad0192f97",measurementId:"G-WZ2GHT12EV"},ee=(0,B.Wp)(Z),ne=((0,G.P5)(ee),(0,K.xI)(ee)),oe=((0,Y.aU)(ee),{name:"Register",data(){return{email:"",password:"",errorMessage:null,isLoading:!1}},methods:{async register(){this.isLoading=!0;try{this.errorMessage=null;const e=await(0,K.eJ)(ne,this.email,this.password);console.log("登録成功:",e.user),alert("登録が成功しました！"),this.$router.push("/login"),this.email="",this.password=""}catch(e){console.error("登録エラー:",e),"auth/email-already-in-use"===e.code?this.errorMessage="このメールアドレスはすでに登録されています。":"auth/invalid-email"===e.code?this.errorMessage="無効なメールアドレスです。":"auth/weak-password"===e.code?this.errorMessage="パスワードは6文字以上である必要があります。":this.errorMessage="予期しないエラーが発生しました。"}finally{this.isLoading=!1}}}}),te=(0,d.A)(oe,[["render",N]]),ae=te;function se(e,n,o,t,s,r){return(0,a.uX)(),(0,a.CE)("main",null,n[0]||(n[0]=[(0,a.Lk)("h1",null,"404 Not Found",-1),(0,a.Lk)("p",null,"お探しのページが見つかりませんでした。",-1)]))}const re={name:"NotFound"},le=(0,d.A)(re,[["render",se],["__scopeId","data-v-ef9cad84"]]),ie=le,ue={class:"login"},de=["disabled"],ce={key:0},pe={key:1},ge={key:0,class:"error"};function he(e,n,o,r,l,i){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",ue,[n[8]||(n[8]=(0,a.Lk)("h1",null,"ログイン画面",-1)),(0,a.Lk)("form",{onSubmit:n[2]||(n[2]=(0,t.D$)(((...n)=>e.login&&e.login(...n)),["prevent"]))},[(0,a.Lk)("div",null,[n[3]||(n[3]=(0,a.Lk)("label",{for:"email"},"メールアドレス",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=n=>e.email=n),required:""},null,512),[[t.Jo,e.email]])]),(0,a.Lk)("div",null,[n[4]||(n[4]=(0,a.Lk)("label",{for:"password"},"パスワード",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=n=>e.password=n),required:""},null,512),[[t.Jo,e.password]])]),(0,a.Lk)("button",{type:"submit",disabled:e.isLoading},[e.isLoading?((0,a.uX)(),(0,a.CE)("span",ce,"ログイン中...")):((0,a.uX)(),(0,a.CE)("span",pe,"ログイン"))],8,de)],32),e.errorMessage?((0,a.uX)(),(0,a.CE)("p",ge,(0,s.v_)(e.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("p",null,[n[6]||(n[6]=(0,a.eW)(" アカウントをお持ちでない場合は、")),(0,a.bF)(u,{to:"/register"},{default:(0,a.k6)((()=>n[5]||(n[5]=[(0,a.eW)("こちら")]))),_:1}),n[7]||(n[7]=(0,a.eW)(" より登録してください。 "))])])}const ke={async login(){this.isLoading=!0;try{this.errorMessage=null;const e=await(0,K.x9)(ne,this.email,this.password);console.log("ログイン成功:",e.user),alert("ログインが成功しました！");const n=await e.user.getIdToken();localStorage.setItem("authToken",n),this.$router.push("/home"),this.email="",this.password=""}catch(e){console.error("ログインエラー:",e),this.handleAuthError(e)}finally{this.isLoading=!1}},handleAuthError(e){"auth/user-not-found"===e.code?this.errorMessage="このメールアドレスのユーザーは見つかりません。":"auth/wrong-password"===e.code?this.errorMessage="パスワードが間違っています。":"auth/invalid-email"===e.code?this.errorMessage="無効なメールアドレスです。":password.length<6?this.errorMessage="パスワードは6文字以上で入力してください。":"auth/too-many-requests"===e.code?this.errorMessage="アクセスが制限されています。しばらくしてから再度お試しください。":this.errorMessage="予期しないエラーが発生しました。"}},me=(0,d.A)(ke,[["render",he]]),fe=me,ve=[{path:"/",name:"ログイン画面",component:fe},{path:"/home",name:"ホーム",component:f},{path:"/scan",name:"スキャン画面",component:M},{path:"/stamps",name:"スタンプ画面",component:A},{path:"/coupons",name:"クーポン画面",component:x},{path:"/stores",name:"店舗一覧",component:Q},{path:"/contact",name:"お問い合わせ",component:V},{path:"/register",name:"新規登録",component:ae},{path:"/login",name:"ログイン画面",component:fe},{path:"/:pathMatch(.*)*",name:"404NotFound",component:ie}],be=(0,g.aE)({history:(0,g.LA)(),routes:ve});be.beforeEach(((e,n,o)=>{console.log("現在のページ:",n.path),console.log("次のページ:",e.path),o()}));const Le=be;var we=o(615);const _e=(0,t.Ef)(p);_e.use(Le),_e.use((0,we.Ey)()),_e.mount("#app")}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,o),s.exports}o.m=e,(()=>{var e=[];o.O=(n,t,a,s)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,a,s]=e[d],l=!0,i=0;i<t.length;i++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](t[i])))?t.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(d--,1);var u=a();void 0!==u&&(n=u)}}return n}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[t,a,s]}})(),(()=>{o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={524:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var a,s,[r,l,i]=t,u=0;if(r.some((n=>0!==e[n]))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var d=i(o)}for(n&&n(t);u<r.length;u++)s=r[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},t=self["webpackChunkstamp_web"]=self["webpackChunkstamp_web"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var t=o.O(void 0,[504],(()=>o(963)));t=o.O(t)})();
//# sourceMappingURL=app.582b9c83.js.map